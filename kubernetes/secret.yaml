# Bifrost Docs Secrets Template
#
# IMPORTANT: Do NOT commit this file with actual values!
# This is a template showing the required secrets.
#
# For production, use sealed-secrets via the seal-secret.sh script in the kubernetes repo:
#   cd /path/to/kubernetes
#   ./seal-secret.sh --secret-name bifrost-docs-secrets --namespace bifrost-docs --key BIFROST_DOCS_SECRET_KEY --value 'your-value'
#
# Or create secrets directly using kubectl:
#   kubectl create secret generic bifrost-docs-secrets \
#     --namespace=bifrost-docs \
#     --from-literal=BIFROST_DOCS_SECRET_KEY='your-32-char-secret-key-here' \
#     --from-literal=BIFROST_DOCS_DATABASE_URL='postgresql+asyncpg://user:pass@host:5432/bifrost_docs' \
#     --from-literal=BIFROST_DOCS_DATABASE_URL_SYNC='postgresql://user:pass@host:5432/bifrost_docs' \
#     --from-literal=BIFROST_DOCS_REDIS_URL='redis://host:6379/0' \
#     --from-literal=BIFROST_DOCS_S3_ENDPOINT_URL='https://nyc3.digitaloceanspaces.com' \
#     --from-literal=BIFROST_DOCS_S3_ACCESS_KEY='your-access-key' \
#     --from-literal=BIFROST_DOCS_S3_SECRET_KEY='your-secret-key'

apiVersion: v1
kind: Secret
metadata:
  name: bifrost-docs-secrets
  namespace: bifrost-docs
  labels:
    app.kubernetes.io/name: bifrost-docs
    app.kubernetes.io/part-of: bifrost-docs
type: Opaque
stringData:
  # Required: 32+ character secret for JWT signing and Fernet encryption
  BIFROST_DOCS_SECRET_KEY: "REPLACE_WITH_32_CHAR_SECRET_KEY"

  # Required: PostgreSQL connection strings (use managed DB)
  BIFROST_DOCS_DATABASE_URL: "postgresql+asyncpg://bifrost_docs:password@postgres.example.com:5432/bifrost_docs"
  BIFROST_DOCS_DATABASE_URL_SYNC: "postgresql://bifrost_docs:password@postgres.example.com:5432/bifrost_docs"

  # Required: Redis connection (managed Redis)
  BIFROST_DOCS_REDIS_URL: "redis://redis.example.com:6379/0"

  # Required: S3-compatible storage (DigitalOcean Spaces)
  BIFROST_DOCS_S3_ENDPOINT_URL: "https://nyc3.digitaloceanspaces.com"
  BIFROST_DOCS_S3_ACCESS_KEY: "REPLACE_WITH_ACCESS_KEY"
  BIFROST_DOCS_S3_SECRET_KEY: "REPLACE_WITH_SECRET_KEY"

  # Optional: OpenAI API key for vector search
  # BIFROST_DOCS_OPENAI_API_KEY: ""
